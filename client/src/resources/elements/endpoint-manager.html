<template>
  <h2>${title}</h2>

  <div id="main-actions-bar" class="actions">
   <button class="add" click.delegate="modalForm.open()">
     ${ addRecordLabel }
   </button>

   <button
   class="delete"
   click.delegate="deleteSelectedRecords()"
   disabled.bind="selectedRecords.length === 0"
   >
     ${ deleteRecordsLabel }
   </button>
 </div>


  <table class="records-table striped highlight responsive-table">
    <thead>
      <tr>
        <th></th>

        <th repeat.for="column of columns | objectToArray">
          ${column.key}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="record of records">
        <td class="center-align">
          <input
          type="checkbox"
          id="record-check-${ record.id }"
          class="filled-in"
          model.bind="record"
          checked.bind="selectedRecords"
          />
          <label for="record-check-${ record.id }"></label>
        </td>

        <td repeat.for="column of columns | objectToArray">
          <compile
          content.bind="column.value"
          context.bind="record"
          ></compile>
        </td>
      </tr>
    </tbody>
  </table>

  <modal-form
  modal-form.ref="modalForm"
  form-control.bind="formControl"
  submit-success.delegate="getAllRecords()"
  >
    <slot name="form" slot="form"></slot>
  </modal-form>
</template>
