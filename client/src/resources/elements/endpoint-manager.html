<template>
  <h2>${title}</h2>

  <div class="actions">
    <button class="add" click.delegate="modalForm.open()">
      ${ addLabel }
    </button>
  </div>


  <table class="records-table striped highlight pointer responsive-table">
    <thead>
      <tr>
        <th repeat.for="column of columns | objectToArray">
          ${column.key}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="record of records">
        <td repeat.for="column of columns | objectToArray">
          <compile
          content.bind="column.value"
          context.bind="record"
          ></compile>
        </td>
      </tr>
    </tbody>
  </table>

  <modal-form
  modal-form.ref="modalForm"
  form-control.bind="formControl"
  submit-success.delegate="getAllRecords()"
  >
    <slot name="form" slot="form"></slot>
  </modal-form>
</template>
